<!DOCTYPE html>
	<html lang="en" xmlns:th="http://www.thymeleaf.org">
		<!-- header page -->
		<th:block th:replace="layout/head :: head"></th:block>
		<!-- nav page -->
		<div class="nav-profile mobie-custom">
				<th:block th:replace="layout/header :: header"></th:block>
		</div>
		
		<body style="height: 100vh;" class="custom-body-mobie">
		<div class="container">
			<div class="row ">
				
				<div class="col-sm-12">
					<form th:action="@{/update-profile}" method="post" th:object="${userDTO}" id="form-profile">
						<div class="row">
							<div class="col-sm-12">
								<div class="bg-fff">
									<div class="row profile-user">
										<div class="col-sm-6">
											<div class="form-group frame-update text-left">
												<label for="name">First Name:</label>
												<input type="text" class="form-control" th:field="*{firstName}" th:value="*{firstName}" placeholder="Enter firt name ">
												<label th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" style="color:red" ></label>
											</div>
										</div>
										<div class="col-sm-6">
											<div class="form-group frame-update text-left">
												<label for="name">Last Name:</label>
												<input type="text" class="form-control" th:field="*{lastName}" th:value="*{lastName}" placeholder="Enter last name">
												<label th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}" style="color:red" ></label>
											</div>
										</div>
									</div>
									
									<div class="row profile-user">
										<div class="col-sm-6">
											<div class="form-group frame-update text-left">
												<label for="pwd">Password:</label>
												<input type="password" id="password" class="form-control" th:field="*{encrytedPassword}" placeholder="Enter new password">
												<label th:if="${#fields.hasErrors('encrytedPassword')}" th:errors="*{encrytedPassword}" style="color:red" ></label>
											</div>
										</div>
										<div class="col-sm-6">
											<div class="form-group frame-update text-left">
												<label for="pwd">Confirm Password:</label>
												<input type="password" id="re-password" class="form-control" th:field="*{confirmPassword}" placeholder="Enter confirm password">
												<label class="error-message" th:if="${#fields.hasGlobalErrors()}" style="color: red; text-align: center"
													th:text="${#fields.errors('global').get(0)}"></label>
											</div>
										</div>
									</div>
									<div class="form-group frame-update text-left profile-user">
										<label for="email">Email address:</label>
										<input type="text" class="form-control" th:field="*{email}" th:value="*{email}" placeholder="Enter email">
										<label th:if="${#fields.hasErrors('email')}" th:errors="*{email}" style="color:red" ></label>
									</div>
									<div class="form-group frame-update custom-update-submit text-left	">
										<input type="submit" class="btn btn-success" value="Update">
										<label th:if="${(param.message != null)}" style="color: green;">You changed infomation successfully .</label>
									</div>
								</div>	
							</div>
						</div>
					</form>
				</div>
			</div>
	</div>
	<!-- Footer -->
	<div class="footer-login mobie-custom">
		<th:block th:replace="layout/footer :: footer"></th:block>
	</div>
	
	<script th:src="@{/js/jquery.validate.min.js}" type="text/javascript"></script>
	<script type = "text/javascript" th:src = "@{/js/jsprofile.js}"></script>
	<script type="text/javascript">
	$(function() {
	    $(document).on("change",".uploadFile", function()
	    {
	    		var uploadFile = $(this);
	        var files = !!this.files ? this.files : [];
	        if (!files.length || !window.FileReader) return; // no file selected, or no FileReader support
	 
	        if (/^image/.test( files[0].type)){ // only image file
	            var reader = new FileReader(); // instance of the FileReader
	            reader.readAsDataURL(files[0]); // read the local file
	 
	            reader.onloadend = function(){ // set image data as background of div
	                //alert(uploadFile.closest(".upimage").find('.imagePreview').length);
	uploadFile.closest(".imgUp").find('.imagePreview').css("background-image", "url("+this.result+")");
	            }
	        }
	      
	    });
	});
	</script>
	</body>
</html>